<script src="demainWeArt/js/jquery.min.js"></script>
<script src="demainWeArt/js/popper.min.js"></script>
<script src="demainWeArt/js/bootstrap.min.js"></script>
<script src="demainWeArt/js/plugins.js"></script>
<script src="demainWeArt/js/jquery.pagepiling.min.js"></script>
<script src="demainWeArt/js/custom.js"></script>
<script>

    $('#79').on('shown.bs.collapse', function () {
        this.scrollIntoView();

    });


    // AJAX POST NEWSLETTER !!
    function ajaxPost(url, data, callback) {
        let req = new XMLHttpRequest();
        req.open("POST", url);
        req.addEventListener("load", function () {
            if (req.status >= 200 && req.status < 400) {
                // Appelle la fonction callback en lui passant la réponse de la requête
                callback(req.responseText);
            } else {
                console.error(req.status + " " + req.statusText + " " + url);
            }
        });
        req.addEventListener("error", function () {
            console.error("Erreur réseau avec l'URL " + url);
        });
        req.send(data);
    }

    let formNewsLetterRecording = document.getElementById('formNewsLetterRecording');
    formNewsLetterRecording.addEventListener('click', function () {
        let contentNewsLetterRecording = document.getElementById('contentNewsLetterRecording');

        let email = contentNewsLetterRecording.value;
        ajaxPost("{{ path('postNewsletter') }}", email, function($callback) {

            formNewsLetterRecording.value = "Inscrit(e) !";
        })
    })
    let formNewsLetterArtist = document.getElementById('formNewsLetterArtist');
    formNewsLetterArtist.addEventListener('click', function () {
        let contentNewsLetterArtist = document.getElementById('contentNewsLetterArtist');

        let email = contentNewsLetterArtist.value;
        ajaxPost("{{ path('postNewsletter') }}", email, function() {

            formNewsLetterArtist.value = "Inscrit(e) !";
        })
    })

    let formNewsLetterEvent = document.getElementById('formNewsLetterEvent');
    formNewsLetterEvent.addEventListener('click', function () {
        let contentNewsLetterEvent = document.getElementById('contentNewsLetterEvent');

        let email = contentNewsLetterEvent.value;
        ajaxPost("{{ path('postNewsletter') }}", email, function() {

            formNewsLetterEvent.value = "Inscrit(e) !";
        })
    })
    // AJAX POST NEWSLETTER !! END


// FUNCTION BULLE SOUS CATEGORIE EXPANDABLE

    // je récupere toutes mes sous catégorie pour les refermer apres clique sur une autre
    let all = document.getElementsByTagName('*');
    let sousCats = [];
    let sousCatsShow = [];
    for (i=0;i<all.length;i++){
        if (all[i].id.substr(0,8)==="idButton"){
            sousCats.push(all[i])
        }
    }
    for (i=0;i<all.length;i++){
        if (all[i].id.substr(0,4)==="target"){
            sousCatsShow.push(all[i])
        }
    }





    function expendableBulleCategorie(id){
        let bulle = document.getElementById('idButton'+id);
        let bulleAttribut = document.getElementById('idButton'+id).getAttribute('aria-expanded');

        for (i=0;i < sousCats.length;i++)
        {
            if(sousCats[i].getAttribute('aria-expanded') === "true" && 'idButton'+id !== sousCats[i].id){
                sousCats[i].style.width = "75%";
            }
        }



        if (bulleAttribut === "false"){
            bulle.style.transitionDuration = "1.5s";
            bulle.style.width = "100%";
        } else {
            bulle.style.transitionDuration = "1.5s";
            bulle.style.width = "75%";

        }

    }


// FUNCTION BULLE SOUS CATEGORIE EXPANDABLE END



// Logic JS Recording Studios Page
let footerRecordingSection = document.getElementById('footerRecordingSection');
let moreRecordingStudios = document.getElementById('moreRecordingStudios');
let headerAboutSection = document.getElementById('headerRecordingSection');
let sectionRecording = document.getElementById('sectionRecording');
    moreRecordingStudios.addEventListener('click', function (e) {

        moreRecordingStudios.classList.add('animated');
        moreRecordingStudios.classList.add('flip');
        sectionRecording.style.display = "block";
        footerRecordingSection.style.display = "block";

        setTimeout(function () {
                headerAboutSection.style.transitionDuration = "1.3s";
                headerAboutSection.style.height = "0vh";
            setTimeout(function () {
                moreRecordingStudios.classList.remove('animated');
                moreRecordingStudios.classList.remove('flip');
                }
                , 200);
            }
            , 1150);

    $.fn.pagepiling.setMouseWheelScrolling(false);
    $.fn.pagepiling.setAllowScrolling(false);
    })
// Logic JS Artist Label Section Page
let footerArtistSection = document.getElementById('footerArtistSection');
let moreArtistLabelServicesStudios = document.getElementById('moreArtistLabelServicesStudios');
let headerArtistLabelServicesSection = document.getElementById('headerArtistLabelServicesSection');
let sectionArtistLabelServices = document.getElementById('ArtistLabelServices');
    moreArtistLabelServicesStudios.addEventListener('click', function (e) {


        moreArtistLabelServicesStudios.classList.add('animated');
        moreArtistLabelServicesStudios.classList.add('flip');
        sectionArtistLabelServices.style.display = "block";
        footerArtistSection.style.display = "block";
        setTimeout(function () {
                headerArtistLabelServicesSection.style.transitionDuration = "1.3s";
                headerArtistLabelServicesSection.style.height = "0vh";
                setTimeout(function () {
                        moreArtistLabelServicesStudios.classList.remove('animated');
                        moreArtistLabelServicesStudios.classList.remove('flip');
                    }
                    , 200);
            }
            , 1150);

    $.fn.pagepiling.setMouseWheelScrolling(false);
    $.fn.pagepiling.setAllowScrolling(false);
})

// Logic JS Traning Page
let footerTrainingSection = document.getElementById('footerTrainingSection');
let moreTraining = document.getElementById('moreTraining');
let headerTrainingSection = document.getElementById('headerTrainingSection');
let sectionTraining  = document.getElementById('Training');
    moreTraining.addEventListener('click', function (e) {


        moreTraining.classList.add('animated');
        moreTraining.classList.add('flip');
        sectionTraining.style.display = "block";
        footerTrainingSection.style.display = "block";
        setTimeout(function () {
                headerTrainingSection.style.transitionDuration = "1.3s";
                headerTrainingSection.style.height = "0vh";
                setTimeout(function () {
                        moreTraining.classList.remove('animated');
                        moreTraining.classList.remove('flip');
                    }
                    , 200);
            }
            , 1150);

        $.fn.pagepiling.setMouseWheelScrolling(false);
        $.fn.pagepiling.setAllowScrolling(false);
})

// Logic JS Events Page
let footerEventsSection = document.getElementById('footerEventsSection');
let moreEvents = document.getElementById('moreEvents');
let headerEventsSection = document.getElementById('headerEventsSection');
let sectionEvents  = document.getElementById('Events');
    moreEvents.addEventListener('click', function (e) {


        moreEvents.classList.add('animated');
        moreEvents.classList.add('flip');
        sectionEvents.style.display = "block";
        footerEventsSection.style.display = "block";
        setTimeout(function () {
                headerEventsSection.style.transitionDuration = "1.3s";
                headerEventsSection.style.height = "0vh";
                setTimeout(function () {
                        moreEvents.classList.remove('animated');
                        moreEvents.classList.remove('flip');
                    }
                    , 200);
            }
            , 1150);

        $.fn.pagepiling.setMouseWheelScrolling(false);
        $.fn.pagepiling.setAllowScrolling(false);
})

// Reset tous les liens
function resetAll(){

    if (sectionRecording.style.display === "block"){
        setTimeout(function () {
                headerAboutSection.style.height = "100vh";
                sectionRecording.style.display = "none";
                footerRecordingSection.style.display ="none";
            }
            , 800);

    }
    else if (sectionArtistLabelServices.style.display === "block") {
        setTimeout(function () {
                headerArtistLabelServicesSection.style.height = "100vh";
                sectionArtistLabelServices.style.display = "none";
                footerArtistSection.style.display = "none";
            }
            , 800);
    }
    else if (sectionTraining.style.display === "block") {
        setTimeout(function () {
                headerTrainingSection.style.height = "100vh";
                sectionTraining.style.display = "none";
                footerTrainingSection.style.display ="none";
            }
            , 800);
    }
    else if (sectionEvents.style.display === "block") {
        setTimeout(function () {
                headerEventsSection.style.height = "100vh";
                sectionEvents.style.display = "none";
                footerEventsSection.style.display ="none";
            }
            , 800);
    }
}

// PAGE RECORDING MENU LINKS---------------------------------------------------->
// ------------------------------------------------------------------->
// ------------------------------------------------------------------->
// ------------------------------------------------------------------->
// ------------------------------------------------------------------->
// HOme Recording
let homeRecording = document.getElementById('homeRecording');
    homeRecording.addEventListener('click', function (e) {
    $.fn.pagepiling.setMouseWheelScrolling(true);
    $.fn.pagepiling.setAllowScrolling(true);
        resetAll();
})
        // artistLabelServicesRecording
        let artistLabelServicesRecording = document.getElementById('artistLabelServicesRecording');
            artistLabelServicesRecording.addEventListener('click', function (e) {
            $.fn.pagepiling.setMouseWheelScrolling(true);
            $.fn.pagepiling.setAllowScrolling(true);
                resetAll();
        })
                // trainingRecording
                let trainingRecording = document.getElementById('trainingRecording');
                    trainingRecording.addEventListener('click', function (e) {
                    $.fn.pagepiling.setMouseWheelScrolling(true);
                    $.fn.pagepiling.setAllowScrolling(true);
                        resetAll();
                })
                        // eventRecording
                        let eventRecording = document.getElementById('eventRecording');
                            eventRecording.addEventListener('click', function (e) {
                            $.fn.pagepiling.setMouseWheelScrolling(true);
                            $.fn.pagepiling.setAllowScrolling(true);
                                resetAll();
                        })

// RESPONSIVE ------------------------------------------->
// trainingRecording
let trainingRecordingResponsive = document.getElementById('trainingRecordingResponsive');
trainingRecordingResponsive.addEventListener('click', function (e) {
    $.fn.pagepiling.setMouseWheelScrolling(true);
    $.fn.pagepiling.setAllowScrolling(true);
    resetAll();
})
// eventRecording
let eventRecordingResponsive = document.getElementById('eventRecordingResponsive');
eventRecordingResponsive.addEventListener('click', function (e) {
    $.fn.pagepiling.setMouseWheelScrolling(true);
    $.fn.pagepiling.setAllowScrolling(true);
    resetAll();
})
let homeResponsive = document.getElementById('homeResponsive');
homeResponsive.addEventListener('click', function (e) {
    $.fn.pagepiling.setMouseWheelScrolling(true);
    $.fn.pagepiling.setAllowScrolling(true);
    resetAll();
})
// HOme Recording
let homeRecordingResponsive = document.getElementById('homeRecordingResponsive');
homeRecordingResponsive.addEventListener('click', function (e) {
    $.fn.pagepiling.setMouseWheelScrolling(true);
    $.fn.pagepiling.setAllowScrolling(true);
    resetAll();
})
// artistLabelServicesRecording
let artistLabelServicesRecordingResponsive = document.getElementById('artistLabelServicesRecordingResponsive');
artistLabelServicesRecordingResponsive.addEventListener('click', function (e) {
    $.fn.pagepiling.setMouseWheelScrolling(true);
    $.fn.pagepiling.setAllowScrolling(true);
    resetAll();
})

// PAGE ARTIST LABEL SERVICES MENU LINKS---------------------------------------------------->
// ------------------------------------------------------------------->
// ------------------------------------------------------------------->
// ------------------------------------------------------------------->
// ------------------------------------------------------------------->
// home ArtistLabelServices
let homeArtistLabelServices = document.getElementById('homeArtistLabelServices');
    homeArtistLabelServices.addEventListener('click', function (e) {
    $.fn.pagepiling.setMouseWheelScrolling(true);
    $.fn.pagepiling.setAllowScrolling(true);
    resetAll();
})
        // artistLabelServicesRecording
        let recordingArtistLabelServices = document.getElementById('recordingArtistLabelServices');
            recordingArtistLabelServices.addEventListener('click', function (e) {
            $.fn.pagepiling.setMouseWheelScrolling(true);
            $.fn.pagepiling.setAllowScrolling(true);
            resetAll();
        })
                // trainingRecording
                let trainingArtistLabelServices = document.getElementById('trainingArtistLabelServices');
                    trainingArtistLabelServices.addEventListener('click', function (e) {
                    $.fn.pagepiling.setMouseWheelScrolling(true);
                    $.fn.pagepiling.setAllowScrolling(true);
                    resetAll();
                })
                        // eventRecording
                        let eventArtistLabelServices = document.getElementById('eventArtistLabelServices');
                            eventArtistLabelServices.addEventListener('click', function (e) {
                            $.fn.pagepiling.setMouseWheelScrolling(true);
                            $.fn.pagepiling.setAllowScrolling(true);
                            resetAll();
                        })

// PAGE homeTraining---------------------------------------------------->
// ------------------------------------------------------------------->
// ------------------------------------------------------------------->
// ------------------------------------------------------------------->
// ------------------------------------------------------------------->
// home Training
let homeTraining = document.getElementById('homeTraining');
    homeTraining.addEventListener('click', function (e) {
    $.fn.pagepiling.setMouseWheelScrolling(true);
    $.fn.pagepiling.setAllowScrolling(true);
    resetAll();
})
        // artistLabelServicesRecording
        let recordingTraining = document.getElementById('recordingTraining');
            recordingTraining.addEventListener('click', function (e) {
            $.fn.pagepiling.setMouseWheelScrolling(true);
            $.fn.pagepiling.setAllowScrolling(true);
            resetAll();
        })
                // recording training
                let artistLabelServicesTraining = document.getElementById('artistLabelServicesTraining');
                    artistLabelServicesTraining.addEventListener('click', function (e) {
                    $.fn.pagepiling.setMouseWheelScrolling(true);
                    $.fn.pagepiling.setAllowScrolling(true);
                    resetAll();
                })
                        // eventRecording
                        let eventTraining = document.getElementById('eventTraining');
                            eventTraining.addEventListener('click', function (e) {
                            $.fn.pagepiling.setMouseWheelScrolling(true);
                            $.fn.pagepiling.setAllowScrolling(true);
                            resetAll();
                        })

// PAGE homeTraining---------------------------------------------------->
// ------------------------------------------------------------------->
// ------------------------------------------------------------------->
// ------------------------------------------------------------------->
// ------------------------------------------------------------------->
// home Training
let homeEvents = document.getElementById('homeEvents');
homeEvents.addEventListener('click', function (e) {
    $.fn.pagepiling.setMouseWheelScrolling(true);
    $.fn.pagepiling.setAllowScrolling(true);
    resetAll();
})
        // artistLabelServicesRecording
        let recordingEvents = document.getElementById('recordingEvents');
        recordingEvents.addEventListener('click', function (e) {
            $.fn.pagepiling.setMouseWheelScrolling(true);
            $.fn.pagepiling.setAllowScrolling(true);
            resetAll();
        })
                // recording training
                let artistLabelServicesEvents = document.getElementById('artistLabelServicesEvents');
                artistLabelServicesEvents.addEventListener('click', function (e) {
                    $.fn.pagepiling.setMouseWheelScrolling(true);
                    $.fn.pagepiling.setAllowScrolling(true);
                    resetAll();
                })
                        // eventRecording
                        let trainingEvents = document.getElementById('trainingEvents');
                        trainingEvents.addEventListener('click', function (e) {
                            $.fn.pagepiling.setMouseWheelScrolling(true);
                            $.fn.pagepiling.setAllowScrolling(true);
                            resetAll();
                        })


/*// linkToRecordingStudio
let linkToRecordingStudio = document.getElementById('linkToRecordingStudio');
    linkToRecordingStudio.addEventListener('click', function (e) {
    headerAboutSection.style.transitionDuration = "0";
    headerAboutSection.style.height = "0vh";
    sectionRecording.style.display = "block";
    $.fn.pagepiling.setMouseWheelScrolling(false);
    $.fn.pagepiling.setAllowScrolling(false);
})*/

</script>
<script>
    var deleteLog = false;
    //	Pagepiling js
    //=====================================================

    $(document).ready(function() {
        $('#pagepiling').pagepiling({
            menu: '#menu',
            anchors: ['homePage', 'recordingPage', 'artistLabelServices', 'training', 'events'],
            loopTop: false,
            loopBottom: false,
            keyboardScrolling: false,
            scrollbars: false,


        });


    });
    //	Sidebar Nav Menu js
    //=====================================================
    function openNav() {
        document.getElementById("mysidenav").style.width = "100%";
    }
    function closeNav() {
        document.getElementById("mysidenav").style.width = "0";
    }
</script>